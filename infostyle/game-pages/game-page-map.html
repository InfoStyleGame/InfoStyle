<polymer-element name="game-page-map">
	<link rel="import" href="/Controls/level-link.html">
	<link rel="import" href="/Controls/login-frame.html">
	<template>
		<style>
			</style>
		<div class="island-first">
			<img src="/Content/resources/Swamp.png" alt="1st island" />
			<level-link number="1" x="80" y="50" disable="true" static="true"></level-link>
			<level-link number="2" x="150" y="180" disable="true" static="true"></level-link>
			<level-link number="3" x="280" y="120" disable="true" static="true"></level-link>
			<level-link number="4" x="430" y="120" disable="true" static="true"></level-link>
			<level-link number="5" x="440" y="200" disable="true" static="true"></level-link>
		</div>
		<div class="island-ezh">
			<a href="ezh"><img src="/Content/resources/Hedgehog.png" alt="2st island" /></a>
		</div>
	</template>
	<script>
		Polymer({
			activate: function () {
				Api.GetUserProgress().done(function (progress) {
					var l = progress.CurrentLevel + 1;
					if (l > 3)
						l = 3;
					for (var i = 0; i <= l; i++)
						$('level-link[number=' + i + ']').attr("disable", "false");

					$('level-link[number=' + l + ']').attr("current", "true");
				});
			}
		});
	</script>
</polymer-element>