<link rel="import" href="../polymer/polymer.html">

<polymer-element name="card">

  <template>
    <style>
      :host {
        font-family: Roboto;
      }

      @-webkit-keyframes point-arise {
        0% {
          opacity: 0;
          padding-left: -15px;
        }
        100% {
          opacity: 1;
          padding-left: 0px;
        }
      }

      @-moz-keyframes point-arise {
        0% {
          opacity: 0;
          padding-left: -15px;
        }
        100% {
          opacity: 1;
          padding-left: 0px;
        }
      }

      @keyframes point-arise {
        0% {
          opacity: 0;
          padding-left: -15px;
        }
        100% {
          opacity: 1;
          padding-left: 0px;
        }
      }

      #core_card {
        padding: 10px;
        max-width: 650px;
        min-width: 400px;
        display: inline-block;
        background-color: rgb(255, 251, 235);
        box-shadow: 0 0 10px rgba(0,0,0,.2);
      }

      #core_card .text {
        font-size: 16px;
      }

      #h3 {
        font-weight: normal;
        padding-left: 20px;
        background: url(chrome-extension://pnoffddplpippgcfjdhbmhkofpnaalpg/packages/cde_polymer_designer/src/polymer_designer/components/element/) transparent;
      }
      .point {
        display: inline-block;
        font-family: Lora;
        font-style: italic;
        font-size: 16px;
        color: green;
      }

      .point.hidden {
        display: inline-block;
        opacity: 0;
      }

      .point.showing {
        -webkit-animation: point-arise 0.2s ease-in;
        -moz-animation: point-arise 0.2s ease-in;
        animation: point-arise 0.2s ease-in;
      }

      .result-panel {
        position: relative;
        display: inline-block;
        max-width: 650px;
        min-width: 400px;
        font-size: 16px;
        font-family: Lora;
        font-style: italic;
        padding: 20px 0;
      }

      paper-button {
        text-transform: none;
        position: absolute;
        right: 0;
      }

      paper-button.colored {
        background: #ffffff;
        color: #006CAA;
      }

      .hidden {
        display: none;
      }

    </style>
    <h3 id="h3">Найди стоп-слово</h3>

    <div class="row">
      <core-card id="core_card" horizontal layout>
        <p id="p" class="text" on-tap="{{clickAction}}">
          В рамках ежегодного фестиваля техники продемонстрировали свыше ста совершенно новых экспанатов</p>
      </core-card>
      <div id="div" class="point hidden">+1</div>
    </div>

    <div class="row hidden">
      <core-card id="core_card" horizontal layout>
        <p id="p" class="text">В рамках ежегодного фестиваля техники продемонстрировали свыше ста совершенно новых экспанатов</p>
      </core-card>
      <div id="div" class="point hidden">+1</div>
    </div>

    <div class="row hidden">
      <core-card id="core_card" horizontal layout>
        <p id="p" class="text">В рамках ежегодного фестиваля техники продемонстрировали свыше ста совершенно новых экспанатов</p>
      </core-card>
      <div id="div" class="point hidden">+1</div>
    </div>

    <div class="result-panel hidden">
      <span>Вы заработали {{points}} баллов</span>
      <paper-button class="colored" raised>Дальше</paper-button>
    </div>
  </template>

  <script>

    Polymer({
      created: function () {
        // TODO fill cards with text
      },

      clickAction: function() {
        // TODO if user shot right

        // TODO show next card

        // TODO if it is the last card, then show result-panel
      }
    });

  </script>

</polymer-element>
